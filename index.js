import{a as y,S as p,i as n}from"./assets/vendor-KnZd4sWe.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function a(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=a(r);fetch(r.href,o)}})();const L="48897668-7102e16b6983a9d2c1f1ac079",w="https://pixabay.com/api/";async function g(e,t=1,a=40){try{const s=await y.get(w,{params:{key:L,q:e,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:a,page:t}});return s.data.hits.length===0?{images:[],totalHits:0}:{images:s.data.hits,totalHits:s.data.totalHits}}catch(s){return console.error("âŒ Error fetching images:",s),{images:[],totalHits:0}}}const h=document.querySelector(".gallery"),S=new p(".gallery a");function m(e){const t=e.map(a=>`
      <a href="${a.largeImageURL}" class="gallery-item">
        <img src="${a.webformatURL}" alt="${a.tags}" loading="lazy" />
      </a>
    `).join("");h.insertAdjacentHTML("beforeend",t),S.refresh()}function b(){h.innerHTML=""}const P=document.querySelector("#search-form");document.querySelector(".gallery");const i=document.querySelector("#load-more");let l="",c=1;const u=40;i.classList.add("is-hidden");function f(e){e<=u*c?i.classList.add("is-hidden"):i.classList.remove("is-hidden")}function A(){const e=document.querySelectorAll(".gallery-item");if(e.length>0){const t=e[0].getBoundingClientRect().height;window.scrollBy({top:t*2,behavior:"smooth"})}}P.addEventListener("submit",async e=>{if(e.preventDefault(),l=e.target.elements.searchQuery.value.trim(),c=1,b(),i.classList.add("is-hidden"),!l){n.warning({message:"Please enter a search query!"});return}try{const t=await g(l,c,u);console.log("Fetched data:",t),t&&Array.isArray(t.hits)&&t.hits.length>0?(m(t.hits),f(t.totalHits)):n.error({message:"Sorry, no images found!"})}catch(t){console.error("Error fetching images:",t),n.error({message:"Something went wrong! Please try again later."})}});i.addEventListener("click",async()=>{c+=1;try{const e=await g(l,c,u);console.log("Fetched more data:",e),e&&Array.isArray(e.hits)&&e.hits.length>0?(m(e.hits),A(),f(e.totalHits)):(i.classList.add("is-hidden"),n.info({message:"We're sorry, but you've reached the end of search results."}))}catch(e){console.error("Error fetching more images:",e),n.error({message:"Something went wrong! Please try again later."})}});
//# sourceMappingURL=index.js.map
