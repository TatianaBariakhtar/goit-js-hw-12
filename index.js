import{a as w,S as H,i as c}from"./assets/vendor-KnZd4sWe.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function i(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(e){if(e.ep)return;e.ep=!0;const s=i(e);fetch(e.href,s)}})();const q="48897668-7102e16b6983a9d2c1f1ac079",E="https://pixabay.com/api/";async function m(t,r=1,i=40){try{const o=await w.get(E,{params:{key:q,q:t,image_type:"photo",orientation:"horizontal",safesearch:!0,per_page:i,page:r}});return o.data.hits.length===0?{images:[],totalHits:0}:{images:o.data.hits,totalHits:o.data.totalHits}}catch(o){return console.error("‚ùå Error fetching images:",o),{images:[],totalHits:0}}}const g=document.querySelector(".gallery"),P=new H(".gallery a");function h(t){const r=t.map(({webformatURL:i,largeImageURL:o,tags:e,likes:s,views:l,comments:v,downloads:S})=>`
      <div class="gallery-item">
        <a href="${o}" class="gallery-link">
          <img src="${i}" alt="${e}" loading="lazy" class="gallery-image" />
        </a>
        <div class="info">
          <p class="info-item"><b>‚ù§Ô∏è Likes:</b> ${s}</p>
          <p class="info-item"><b>üëÄ Views:</b> ${l}</p>
          <p class="info-item"><b>üí¨ Comments:</b> ${v}</p>
          <p class="info-item"><b>üì• Downloads:</b> ${S}</p>
        </div>
      </div>
    `).join("");g.insertAdjacentHTML("beforeend",r),P.refresh()}function $(){g.innerHTML=""}const O=document.querySelector("#search-form");document.querySelector(".gallery");const n=document.querySelector("#load-more"),y=document.querySelector("#loader");let u="",d=1;const f=40;let a=!1;n.classList.add("is-hidden");function p(){y.classList.remove("is-hidden")}function L(){y.classList.add("is-hidden")}function b(t){t<=f*d?(n.classList.add("is-hidden"),c.info({message:"We're sorry, but you've reached the end of search results.",position:"topRight"})):n.classList.remove("is-hidden")}function A(){const t=document.querySelectorAll(".gallery-item");if(t.length>0){const r=t[0].getBoundingClientRect().height;window.scrollBy({top:r*2,behavior:"smooth"})}}O.addEventListener("submit",async t=>{if(t.preventDefault(),u=t.target.elements.searchQuery.value.trim(),!(!u||a)){d=1,$(),n.classList.add("is-hidden"),p(),a=!0;try{const{images:r,totalHits:i}=await m(u,d,f);r.length>0?(h(r),b(i)):c.error({message:"Sorry, no images found!"})}catch{c.error({message:"Error fetching images. Please try again."})}L(),a=!1}});n.addEventListener("click",async()=>{if(!a){a=!0,d+=1,p();try{const{images:t,totalHits:r}=await m(u,d,f);t.length>0?(h(t),A(),b(r)):(n.classList.add("is-hidden"),c.info({message:"We're sorry, but you've reached the end of search results."}))}catch{c.error({message:"Error loading more images."})}L(),a=!1}});
//# sourceMappingURL=index.js.map
